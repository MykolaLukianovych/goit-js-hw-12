{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from \"axios\";\n\n\nexport default async function getPictures(query) {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const KEY = '47394920-a4032b33a38ab12c89a369f6a';\n    \n    const params = new URLSearchParams({\n        key: KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n\n    try {\n        const response = await axios(BASE_URL, { params });\n        return response.data;\n    } catch (error) {\n        alert(error.statusText);\n    }\n        \n};\n","export default reflectionPictures;\n\n\nfunction reflectionPictures(pictures) {\n    return pictures.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <a class=\"gallery-item\" href=\"${largeImageURL}\">\n        <div class=\"all-gallery\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\">\n        <div class=\"discription\">\n        <p class=\"discr-text\">Likes <span>${likes}</span></p>\n        <p class=\"discr-text\">Views <span>${views}</span></p>\n        <p class=\"discr-text\">Comments <span>${comments}</span></p>\n        <p class=\"discr-text\">Downloads <span>${downloads}</span></p>\n        </div>\n        </div>\n        </a>\n    \n    `).join(\"\");\n}\n\n","\"use strict\"\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport \"./js/pixabay-api.js\";\nimport \"./js/render-functions.js\";\nimport getPictures from \"./js/pixabay-api.js\";\nimport reflectionPictures from \"./js/render-functions.js\";\n\n\n\nconst formSearch = document.querySelector(\".search-form\");\nconst gallery = document.querySelector(\".gallery\");\n\n\n\n\nlet lightbox = new SimpleLightbox(\".gallery-item\", {\n    captions: true,\n    captionSelector: \"img\",\n    captionType: \"attr\",\n    captionsData: \"alt\",\n    captionDelay: 250,\n});\n\nformSearch.addEventListener(\"submit\", handleSearch);\n\nasync function handleSearch(event) {\n    event.preventDefault();\n    \n\n    gallery.innerHTML = \"\";\n\n    const inputValue = event.target.elements.query.value.trim();\n\n    if (inputValue === \"\") {\n        iziToast.error({\n            title: \"No Results\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n        });\n        return;\n    }\n\n\n    try {\n        const data = getPictures(inputValue);\n\n            if (data.hits.length === 0) {\n                iziToast.info({\n                    title: \"No Results\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\",\n                });\n                return;\n            }\n\n            const markup = reflectionPictures(data.hits);\n            gallery.innerHTML = markup;\n\n            lightbox.refresh();\n\n        } catch (error) {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Something went wrong. Please try again later\",\n                position: \"topRight\"\n            });\n        } finally {\n            event.target.reset();\n        };\n}\n\n\n\n\n\n\n\n"],"names":["getPictures","query","BASE_URL","KEY","params","axios","error","reflectionPictures","pictures","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formSearch","gallery","lightbox","SimpleLightbox","handleSearch","event","inputValue","iziToast","data","markup"],"mappings":"owBAIe,eAAeA,EAAYC,EAAO,CAC7C,MAAMC,EAAW,2BACXC,EAAM,qCAENC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,GAAI,CAEA,OADiB,MAAMI,EAAMH,EAAU,CAAE,OAAAE,CAAQ,CAAA,GACjC,IACnB,OAAQE,EAAO,CACZ,MAAMA,EAAM,UAAU,CACzB,CAEL,CCpBA,SAASC,EAAmBC,EAAU,CAClC,OAAOA,EAAS,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,wCAC9DL,CAAa;AAAA;AAAA,oBAEjCD,CAAY,UAAUE,CAAI;AAAA;AAAA,4CAEFC,CAAK;AAAA,4CACLC,CAAK;AAAA,+CACFC,CAAQ;AAAA,gDACPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAKpD,EAAE,KAAK,EAAE,CACd,CCJA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAKjD,IAAIC,EAAW,IAAIC,EAAe,gBAAiB,CAC/C,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,aAAc,GAClB,CAAC,EAEDH,EAAW,iBAAiB,SAAUI,CAAY,EAElD,eAAeA,EAAaC,EAAO,CAC/BA,EAAM,eAAc,EAGpBJ,EAAQ,UAAY,GAEpB,MAAMK,EAAaD,EAAM,OAAO,SAAS,MAAM,MAAM,OAErD,GAAIC,IAAe,GAAI,CACnBC,EAAS,MAAM,CACX,MAAO,aACP,QAAS,2EACT,SAAU,UACtB,CAAS,EACD,MACH,CAGD,GAAI,CACA,MAAMC,EAAOxB,EAAYsB,CAAU,EAE/B,GAAIE,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,KAAK,CACV,MAAO,aACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CAED,MAAME,EAASlB,EAAmBiB,EAAK,IAAI,EAC3CP,EAAQ,UAAYQ,EAEpBP,EAAS,QAAO,CAEnB,MAAe,CACZK,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+CACT,SAAU,UAC1B,CAAa,CACb,QAAkB,CACNF,EAAM,OAAO,OAEzB,CAAA"}